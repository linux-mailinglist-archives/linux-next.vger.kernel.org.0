Return-Path: <linux-next-owner@vger.kernel.org>
X-Original-To: lists+linux-next@lfdr.de
Delivered-To: lists+linux-next@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id 392F2B574F
	for <lists+linux-next@lfdr.de>; Tue, 17 Sep 2019 23:02:10 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726300AbfIQVCJ (ORCPT <rfc822;lists+linux-next@lfdr.de>);
        Tue, 17 Sep 2019 17:02:09 -0400
Received: from mx2.suse.de ([195.135.220.15]:50462 "EHLO mx1.suse.de"
        rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S1726030AbfIQVCJ (ORCPT <rfc822;linux-next@vger.kernel.org>);
        Tue, 17 Sep 2019 17:02:09 -0400
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
        by mx1.suse.de (Postfix) with ESMTP id C8725AD5F;
        Tue, 17 Sep 2019 21:02:07 +0000 (UTC)
Date:   Tue, 17 Sep 2019 23:02:07 +0200
Message-ID: <s5h5zlqtz5c.wl-tiwai@suse.de>
From:   Takashi Iwai <tiwai@suse.de>
To:     Pierre-Louis Bossart <pierre-louis.bossart@linux.intel.com>
Cc:     Mark Brown <broonie@kernel.org>, Jaroslav Kysela <perex@perex.cz>,
        Mac Chiang <mac.chiang@intel.com>, alsa-devel@alsa-project.org,
        linux-next@vger.kernel.org, linux-kernel@vger.kernel.org,
        Liam Girdwood <lgirdwood@gmail.com>,
        Linus Torvalds <torvalds@linuxfoundation.org>
Subject: Re: [alsa-devel] Build failure after merge of the sound-current
In-Reply-To: <a71b94b7-7692-2f12-8568-488bf845742c@linux.intel.com>
References: <20190917103858.GA3524@sirena.co.uk>
        <a71b94b7-7692-2f12-8568-488bf845742c@linux.intel.com>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
Sender: linux-next-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-next.vger.kernel.org>
X-Mailing-List: linux-next@vger.kernel.org

On Tue, 17 Sep 2019 22:56:55 +0200,
Pierre-Louis Bossart wrote:
> 
> 
> 
> On 9/17/19 5:38 AM, Mark Brown wrote:
> > After merging the sound-current tree, today's linux-next build for x86
> > allmodconfig failed like this:
> >
> > In file included from /home/broonie/next/next/sound/soc/intel/boards/sof_rt5682.c:23:
> > /home/broonie/next/next/sound/soc/intel/boards/../common/soc-intel-quirks.h: In function 'soc_intel_is_cml':
> > /home/broonie/next/next/sound/soc/intel/boards/../common/soc-intel-quirks.h:39:23: error: 'INTEL_FAM6_KABYLAKE_MOBILE' undeclared (first use in this function); did you mean 'INTEL_FAM6_KABYLAKE_L'?
> >   SOC_INTEL_IS_CPU(cml, INTEL_FAM6_KABYLAKE_MOBILE);
> 
> > caused by commit
> >
> > 	c643c189f0fec116 (ASoC: Intel: boards: Add Cometlake machine driver support)
> >
> > IIRC there was some previous discussion of a dependency on other changes
> > here but I thought that was resolved?  I've reverted that commit for
> > today.
> 
> Seems like a conflict with
> 
> af239c44e3f97 ('x86/intel: Aggregate big core mobile naming')
> 
> maybe we can have a temporary fix in the ASoC tree along the lines of
> 
> #ifdef INTEL_FAM6_KABYLAKE_L
> #define INTEL_FAM6_KABYLAKE_MOBILE	INTEL_FAM6_KABYLAKE_L
> #endif
> 
> and remove it when the initial patch is in an rc1?

Ah thanks, that's the piece I've missed.  The conflict appears *after*
the merge with tip.  I have tested only the merge result with Linus
tree, so it didn't appear in my build tests.

Putting Linus to Cc, so that he can see the possible conflicts
beforehand.


thanks,

Takashi
